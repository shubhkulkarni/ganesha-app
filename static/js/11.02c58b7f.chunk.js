(this["webpackJsonpecommerce-mui"]=this["webpackJsonpecommerce-mui"]||[]).push([[11],{627:function(e,t,a){"use strict";a.r(t);var r=a(65),n=a.n(r),c=a(98),o=a(66),i=a(32),l=a(0),d=a(537),s=a(609),b=a(96),p=a(561),m=a(182),u=a(538),j=a(513),h=a(590),f=a(499),O=a(535),x=a(498),g=a(512),v=a(587),y=a.n(v),k=a(589),w=a.n(k),N=a(588),D=a.n(N),C=a(547),W=a(99),R=a(557),S=a(102),B=a(583),I=a(3),P=[{label:"Receipt no.",key:"receiptNo"},{label:"Fullname",key:"name"},{label:"Amount",key:"amount"},{label:"Mobile",key:"mobile"},{label:"Date",key:"date"},{label:"Payment mode",key:"payment"}],F=new Date;var M=function(e){var t=e.children,a=Object(W.a)(),r=Object(o.a)(a,2),n=r[0];return r[1],Object(I.jsx)(B.CSVLink,{data:n.paymentsData,headers:P,filename:"donation_".concat(F,".csv"),children:t})},E=a(545),J=[{field:"receiptNo",headerName:"Receipt No.",width:150},{field:"name",headerName:"Fullname",width:250},{field:"amount",headerName:"Amount",width:150,type:"number"},{field:"date",headerName:"Date",type:"date",width:150},{field:"mobile",headerName:"Mobile",sortable:!1,width:150},{field:"payment",headerName:"Payment mode",width:150}],A=Object(j.a)((function(e){var t,a;return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,"MuiDataGrid-colCellWrapper":{color:"red"}},paper:(t={minWidth:"auto"},Object(i.a)(t,e.breakpoints.up("md"),{padding:15}),Object(i.a)(t,e.breakpoints.down("md"),{padding:7}),t),paper1:(a={minWidth:"auto",marginBottom:24,padding:15},Object(i.a)(a,e.breakpoints.up("md"),{}),Object(i.a)(a,"overflowX","hidden"),a),formControl:Object(i.a)({paddingRight:24},e.breakpoints.down("md"),{marginBottom:20}),arrow:{color:"#08be08"},exportBtn:{color:"#dc5319",fontWeight:"bold",background:"#ffb60054","&:hover":{background:"#ffb6008a"}},helper:{background:"#4aa6ff29",padding:"5px 10px",width:"100%",color:"#055aae",fontWeight:"bold",borderRadius:"50px"},receiptBtn:{borderColor:"#ffb60054",borderWidth:2,"&:hover":{borderColor:"#ffb60054",borderWidth:2}}}}));t.default=function(){var e=A(),t=Object(W.a)(),a=Object(o.a)(t,2),r=a[0],i=a[1],j=Object(l.useState)(!1),v=Object(o.a)(j,2),k=v[0],N=v[1],B=Object(l.useState)("receipt2021"),P=Object(o.a)(B,2),F=P[0],T=P[1],V=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,Object(C.a)(t);case 4:a=e.sent,N(!1),i.setPaymentsData(a),i.setPaymentsTotal(Object(R.a)(a)),i.setDataYear(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),S.NotificationManager.error(e.t0.message,"Error"),N(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){r.paymentsData.length?console.log(JSON.stringify(r.paymentsData.map((function(e){return e.receiptNo})))):V(F)}),[]);var z,G=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.row,e.next=3,Object(E.a)(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(d.a,{className:e.paper1,children:Object(I.jsxs)(s.a,{container:!0,spacing:3,alignItems:"center",justify:"center",children:[Object(I.jsx)(s.a,{xs:12,lg:6,md:6,children:Object(I.jsxs)(b.a,{variant:"h2",component:"h3",children:[(z=r.paymentsTotal,z.toFixed(1).replace(/(\d)(?=(\d{2})+\d\.)/g,"$1,"))," ",Object(I.jsxs)(b.a,{variant:"h5",component:"span",children:[" ","\u20b9"," "]}),Object(I.jsx)(y.a,{className:e.arrow})," ",Object(I.jsx)(p.a,{startIcon:Object(I.jsx)(D.a,{}),className:e.receiptBtn,color:"primary",variant:"outlined",onClick:function(){V(F)},children:k?"Refreshing...":"Refresh"})]})}),Object(I.jsxs)(s.a,{xs:12,lg:3,md:6,children:[" ",Object(I.jsxs)(x.a,{fullWidth:!0,className:e.formControl,children:[Object(I.jsx)(f.a,{id:"demo-simple-select-outlined-label",children:"Select year"}),Object(I.jsxs)(g.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:F,onChange:function(e){T(e.target.value),V(e.target.value)},label:"Select year",children:[Object(I.jsx)(O.a,{value:"receipt2021",children:"2021"}),Object(I.jsx)(O.a,{value:"receipt2020",children:"2020"}),Object(I.jsx)(O.a,{value:"receipt",children:"2019"})]})]})]}),Object(I.jsx)(s.a,{xs:12,lg:3,children:Object(I.jsx)(M,{children:Object(I.jsx)(p.a,{startIcon:Object(I.jsx)(w.a,{}),variant:"contained",fullWidth:!0,className:e.exportBtn,children:"Export to CSV"})})})]})}),Object(I.jsxs)(m.a,{className:e.paper,children:[Object(I.jsx)(u.a,{smUp:!0,children:Object(I.jsx)(b.a,{variant:"body",display:"block",align:"center",className:e.helper,children:"Double click to get receipt"})}),Object(I.jsx)(u.a,{smDown:!0,children:Object(I.jsxs)(b.a,{variant:"body",display:"block",align:"center",className:e.helper,children:["Double click on any record to download the PDF receipt"," "]})}),Object(I.jsx)(h.a,{loading:k,autoHeight:!0,rows:r.paymentsData,columns:J,pageSize:15,getRowId:function(e){return e.receiptNo},onRowDoubleClick:G})]})]})}}}]);
//# sourceMappingURL=11.02c58b7f.chunk.js.map