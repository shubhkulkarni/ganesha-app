{"version":3,"sources":["pages/Home/Styles.js","components/Card/Product.js","pages/Home/DonationForm.js","pages/Home/RecentList.js","services/createDonation.js","utils/SMS.js","pages/Home/Home.js"],"names":["useStyles","makeStyles","theme","root","display","flexGrow","header","flex","headerCtr","paddingLeft","paddingRight","marginBottom","card","maxHeight","maxWidth","fullSizeCard","cartBtn","color","fontWeight","background","receiptBtn","borderColor","borderWidth","progress","colorPrimary","homeTitle","homeSubTitle","opacity","headerPaper","padding","borderRadius","backgroundImage","flexDirection","breakpoints","up","down","media","actions","justifyContent","cardHeader","wordBreak","hyphens","ProductCard","title","subtitle","children","action","classes","Card","className","CardHeader","subheader","CardContent","CardActions","DonationForm","data","error","userData","setUserData","err","setErr","mandatory","changeHandler","e","field","target","value","trim","includes","filter","i","Grid","container","spacing","item","lg","xs","TextField","id","label","fullWidth","variant","disabled","onChange","receiptNo","utils","DateFnsUtils","margin","inputVariant","required","format","date","val","KeyboardButtonProps","name","FormControl","InputLabel","htmlFor","OutlinedInput","type","amount","startAdornment","InputAdornment","position","labelWidth","mobile","Select","labelId","payment","MenuItem","width","backgroundColor","palette","paper","listRow","alignItems","borderBottom","download","fontSize","downloadHandler","a","generatePdf","RecentList","useGlobal","state","paymentsData","slice","map","IconButton","aria-label","onClick","createDonation","axios","post","response","sendMessage","mobileNo","MESSAGE","EncodedMessage","encodeURIComponent","URL","get","Home","useState","Date","getReceiptNo","length","arr","split","console","log","Number","toString","padStart","dataLoading","setDataLoading","submitLoading","setSubmitLoading","fetchData","fetchPayments","setPaymentsData","setPaymentsTotal","getTotal","setDataYear","NotificationManager","message","submitDonation","dataList","Object","entries","errList","String","Boolean","newData","isNaN","success","warning","onSubmit","useEffect","dataYear","buttons","Button","size","endIcon","Container","Paper","Typography","align","gutterBottom","xl","md","sm","LinearProgress","Product"],"mappings":"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","file":"static/js/10.0af7d9d1.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n  },\r\n  header: {\r\n    flex: 1,\r\n  },\r\n  headerCtr: {\r\n    paddingLeft: 0,\r\n    paddingRight: 0,\r\n    marginBottom: 24,\r\n  },\r\n  card: {\r\n    maxHeight: 260,\r\n    maxWidth: 200,\r\n  },\r\n  fullSizeCard: {\r\n    maxHeight: 260,\r\n  },\r\n  cartBtn: {\r\n    color: \"#dc5319 !important\",\r\n    fontWeight: \"bold !important\",\r\n    background: \"#ffb60054 !important\",\r\n    \"&:hover\": {\r\n      background: \"#ffb6008a !important\",\r\n    },\r\n  },\r\n  receiptBtn: {\r\n    borderColor: \"#ffb60054 !important\",\r\n    borderWidth: \"2px !important\",\r\n    \"&:hover\": {\r\n      borderColor: \"#ffb60054 !important\",\r\n      borderWidth: \"2px !important\",\r\n    },\r\n    // color: \"#dc5319\",\r\n  },\r\n  progress: {\r\n    colorPrimary: \"#dc5319\",\r\n  },\r\n  homeTitle: { color: \"white\", fontWeight: 600 },\r\n  homeSubTitle: { color: \"white\", opacity: 0.8 },\r\n  headerPaper: {\r\n    padding: 24,\r\n    borderRadius: 15,\r\n    backgroundImage:\r\n      \"linear-gradient(90deg, rgb(217, 119, 6), rgb(220, 38, 38))\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  IconButton,\r\n  CardActionArea,\r\n  Button,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      padding: 15,\r\n    },\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      padding: 7,\r\n    },\r\n  },\r\n  media: {\r\n    // height: 0,\r\n    // paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  actions: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n\r\n  cardHeader: {\r\n    wordBreak: \"break-word\",\r\n    hyphens: \"auto\",\r\n  },\r\n}));\r\n\r\nfunction ProductCard({ title, subtitle, children, action = null }) {\r\n  const classes = useStyles();\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        title={title}\r\n        className={classes.cardHeader}\r\n        subheader={subtitle}\r\n        // action={\r\n        //   <IconButton aria-label=\"settings\">\r\n        //     <MoreVertIcon />\r\n        //   </IconButton>\r\n        // }\r\n      >\r\n        {\" \"}\r\n      </CardHeader>\r\n\r\n      {/* <CardMedia\r\n          className={classes.media}\r\n          image=\"https://source.unsplash.com/random\"\r\n          title=\"Paella dish\"\r\n        ></CardMedia> */}\r\n\r\n      <CardContent>{children}</CardContent>\r\n      <CardActions className={classes.actions}>\r\n        {\" \"}\r\n        {action}\r\n        {/* <Button size=\"small\">Receipt</Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          className={classes.cartBtn}\r\n          endIcon={<SaveIcon />}\r\n        >\r\n          Submit\r\n        </Button> */}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ProductCard;\r\n","import React from \"react\";\r\nimport {\r\n  \r\n  Grid,\r\n  TextField,\r\n  InputAdornment,\r\n} from \"@material-ui/core\";\r\nimport DateFnsUtils from \"@date-io/date-fns\"; // choose your lib\r\nimport {\r\n \r\n  KeyboardDatePicker,\r\n  MuiPickersUtilsProvider,\r\n} from \"@material-ui/pickers\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport Select from \"@material-ui/core/Select\";\r\nfunction DonationForm({ data, error }) {\r\n  const [userData, setUserData] = data;\r\n  const [err, setErr] = error;\r\n  const mandatory = [\"amount\", \"name\", \"date\", \"receiptNo\"];\r\n  const changeHandler = (e, field) => {\r\n    if (!e.target.value.trim() && mandatory.includes(field)) {\r\n      setErr([...err, field]);\r\n    } else {\r\n      setErr(err.filter((i) => i !== field));\r\n    }\r\n    setUserData({ ...userData, [field]: e.target.value });\r\n  };\r\n  return (\r\n    <div>\r\n      <Grid container spacing={4}>\r\n        <Grid item lg={6} xs={12}>\r\n          <TextField\r\n            id=\"standard-basic\"\r\n            label=\"Receipt No.\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            disabled\r\n            onChange={(e) => changeHandler(e, \"receiptNo\")}\r\n            value={userData.receiptNo}\r\n            error={err.includes(\"receiptNo\")}\r\n          />\r\n        </Grid>\r\n        <Grid item lg={6} xs={12}>\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"date-picker-dialog\"\r\n              fullWidth\r\n              variant=\"inline\"\r\n              inputVariant=\"outlined\"\r\n              label=\"Date picker dialog\"\r\n              required\r\n              format=\"dd/MM/yyyy\"\r\n              value={userData.date}\r\n              error={err.includes(\"date\")}\r\n              onChange={(val) => {\r\n                if (!val && mandatory.includes(\"date\")) {\r\n                  setErr([...err, \"date\"]);\r\n                } else {\r\n                  setErr(err.filter((i) => i !== \"date\"));\r\n                }\r\n                setUserData({ ...userData, date: val });\r\n              }}\r\n              KeyboardButtonProps={{\r\n                \"aria-label\": \"change date\",\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>\r\n        </Grid>\r\n        <Grid item lg={12} xs={12}>\r\n          <TextField\r\n            id=\"standard-basic\"\r\n            label=\"Name\"\r\n            fullWidth\r\n            required\r\n            error={err.includes(\"name\")}\r\n            variant=\"outlined\"\r\n            onChange={(e) => changeHandler(e, \"name\")}\r\n            value={userData.name}\r\n          />\r\n        </Grid>\r\n        <Grid item lg={6} xs={12}>\r\n          <FormControl fullWidth variant=\"outlined\">\r\n            <InputLabel htmlFor=\"outlined-adornment-amount\" required>\r\n              Amount\r\n            </InputLabel>\r\n            <OutlinedInput\r\n              id=\"outlined-adornment-amount\"\r\n              type=\"number\"\r\n              onChange={(e) => changeHandler(e, \"amount\")}\r\n              value={userData.amount}\r\n              error={err.includes(\"amount\")}\r\n              startAdornment={\r\n                <InputAdornment position=\"start\">₹</InputAdornment>\r\n              }\r\n              labelWidth={60}\r\n            />\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item lg={6} xs={12}>\r\n          <TextField\r\n            id=\"standard-basic\"\r\n            label=\"Contact\"\r\n            fullWidth\r\n            error={err.includes(\"mobile\")}\r\n            onChange={(e) => changeHandler(e, \"mobile\")}\r\n            value={userData.mobile}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n        <Grid item lg={12} xs={12}>\r\n          <FormControl variant=\"outlined\" fullWidth>\r\n            <InputLabel required id=\"demo-simple-select-outlined-label\">\r\n              Payment mode\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              id=\"demo-simple-select-outlined\"\r\n              value={userData.payment}\r\n              error={err.includes(\"payment\")}\r\n              onChange={(e) => changeHandler(e, \"payment\")}\r\n              label=\"Payment mode\"\r\n            >\r\n              <MenuItem value={\"Cash\"}>Cash</MenuItem>\r\n              <MenuItem value={\"UPI\"}>UPI</MenuItem>\r\n              <MenuItem value={\"Card\"}>Card</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DonationForm;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useGlobal } from \"./../../global/global\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\r\nimport { generatePdf } from \"./../../utils/pdfGenerator\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  listRow: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"baseline\",\r\n    marginBottom: 8,\r\n    borderBottom: \"1px solid rgb(35, 48, 68, 0.1)\",\r\n  },\r\n  date: {\r\n    color: \"gray\",\r\n  },\r\n  download: { color: \"#4caf50\" },\r\n  name: {\r\n    // fontWeight: \"bold\",\r\n\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      fontSize: \"1.5em\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst downloadHandler = async (data) => {\r\n  return await generatePdf(data);\r\n};\r\n\r\nexport default function RecentList() {\r\n  const classes = useStyles();\r\n  const [state, actions] = useGlobal();\r\n\r\n  // const [list, setList] = useState(state.paymentsData.slice(-10));\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {state.paymentsData.slice(0, 10).map((item) => {\r\n        return (\r\n          <div className={classes.listRow}>\r\n            <div className={classes.header}>\r\n              <span className={classes.name}>{item.name}</span>{\" \"}\r\n              {/* <Hidden lgDown> */}\r\n              <div className={classes.date}>({item.date})</div>\r\n              {/* </Hidden> */}\r\n            </div>\r\n\r\n            <div className={classes.amount}>\r\n              {item.amount} ₹{\" \"}\r\n              <IconButton\r\n                aria-label=\"show 17 new notifications\"\r\n                color=\"inherit\"\r\n                onClick={() => downloadHandler(item)}\r\n              >\r\n                <GetAppIcon className={classes.download} />\r\n              </IconButton>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { formattedDate } from \"./../utils/dateFormatter\";\r\n\r\nexport async function createDonation(data) {\r\n    \r\n        let response = await axios.post(\r\n            `https://tembeganesha.firebaseio.com/receipt2021.json`,data\r\n          );\r\n        return response.data\r\n  \r\n  \r\n\r\n\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst sendMessage = async (data) => {\r\n  const { amount, name, mobile: mobileNo } = data;\r\n  const MESSAGE = `Thank you ${name} for contributing Rs. ${amount} to Shri Tembe Ganesh Mandal !`;\r\n  const EncodedMessage = encodeURIComponent(MESSAGE);\r\n  const URL = `/pushsms.aspx?user=tambeganesh&password=Tambeganesh&msisdn=91${mobileNo}&sid=TEMBEG&msg=${EncodedMessage}&fl=0&gwid=2`;\r\n\r\n  await axios.get(URL);\r\n};\r\n\r\nexport default sendMessage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useStyles } from \"./Styles\";\r\nimport { Container, Typography, Grid, Button, Paper } from \"@material-ui/core\";\r\nimport ProductCard from \"./../../components/Card/Product\";\r\nimport DonationForm from \"./DonationForm\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport RecentList from \"./RecentList\";\r\nimport { useGlobal } from \"./../../global/global\";\r\nimport { fetchPayments } from \"../../services/fetchPayments\";\r\nimport { createDonation } from \"../../services/createDonation\";\r\nimport { getTotal } from \"./../../utils/getTotal\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { generatePdf } from \"./../../utils/pdfGenerator\";\r\nimport sendMessage from \"./../../utils/SMS\";\r\nfunction Home() {\r\n  const classes = useStyles();\r\n  const [state, actions] = useGlobal();\r\n  const [userData, setUserData] = useState({\r\n    name: \"\",\r\n    amount: null,\r\n    date: new Date(),\r\n    payment: \"Cash\",\r\n    mobile: \"\",\r\n    receiptNo: \"\",\r\n  });\r\n  const getReceiptNo = (data) => {\r\n    if (!data.length) {\r\n      return `TGM/21/00001`;\r\n    }\r\n    let r = data[0].receiptNo;\r\n    let arr = r.split(\"/\");\r\n    console.log(arr);\r\n    let last = Number(arr[arr.length - 1]);\r\n    let padding = (last + 1).toString().padStart(5, \"0\");\r\n    return `TGM/21/${padding}`;\r\n  };\r\n\r\n  const [dataLoading, setDataLoading] = useState(false);\r\n  const [submitLoading, setSubmitLoading] = useState(false);\r\n  const [err, setErr] = useState([]);\r\n  const fetchData = async () => {\r\n    try {\r\n      setDataLoading(true);\r\n      let data = await fetchPayments(\"receipt2021\");\r\n\r\n      actions.setPaymentsData(data);\r\n      actions.setPaymentsTotal(getTotal(data));\r\n      actions.setDataYear(\"receipt2021\");\r\n      setUserData({\r\n        name: \"\",\r\n        amount: \"\",\r\n        date: new Date(),\r\n        payment: \"Cash\",\r\n        mobile: \"\",\r\n        receiptNo: getReceiptNo(data),\r\n      });\r\n      setDataLoading(false);\r\n    } catch (err) {\r\n      NotificationManager.error(err.message, \"Error\");\r\n      setDataLoading(false);\r\n    }\r\n  };\r\n  const submitDonation = async (data) => {\r\n    const dataList = Object.entries(userData);\r\n\r\n    const errList = dataList\r\n      .map((item) => {\r\n        if (!String(item[1]).trim()) {\r\n          return item[0];\r\n        }\r\n        return null;\r\n      })\r\n      .filter(Boolean);\r\n\r\n    setErr([...errList].filter((i) => i !== \"mobile\"));\r\n\r\n    console.log(errList);\r\n    if (![...errList].filter((i) => i !== \"mobile\").length) {\r\n      try {\r\n        setSubmitLoading(true);\r\n        let newData = { ...data, amount: Number(data.amount) };\r\n        if (newData.mobile.trim()) {\r\n          if (newData.mobile.length !== 10 || isNaN(+newData.mobile)) {\r\n            setSubmitLoading(false);\r\n            return NotificationManager.error(\"Mobile no. is invalid\", \"Error\");\r\n          }\r\n        } else {\r\n          newData = { ...newData, mobile: \"Not disclosed\" };\r\n        }\r\n        let resp = await createDonation(newData);\r\n        await fetchData();\r\n        await generatePdf(userData);\r\n\r\n        NotificationManager.success(\"Your donation is successful !\", \"Success\");\r\n        setSubmitLoading(false);\r\n        if (newData.mobile.trim()) {\r\n          if (newData.mobile.length === 10 && !isNaN(+newData.mobile)) {\r\n            await sendMessage(newData);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        NotificationManager.error(err.message, \"Error\");\r\n        setSubmitLoading(false);\r\n      }\r\n    } else {\r\n      NotificationManager.warning(\"Some fields are missing\", \"Invalid\");\r\n    }\r\n  };\r\n\r\n  const onSubmit = async () => {\r\n    try {\r\n      await submitDonation(userData);\r\n    } catch (err) {\r\n      NotificationManager.error(err.message, \"Error\");\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (state.dataYear !== \"receipt2021\" || !state.paymentsData.length) {\r\n      fetchData();\r\n    } else {\r\n      setUserData({\r\n        ...userData,\r\n        receiptNo: getReceiptNo(state.paymentsData),\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const resetHandler = () => {\r\n    setUserData({\r\n      ...userData,\r\n      name: \"\",\r\n      amount: \"\",\r\n      date: new Date(),\r\n      payment: \"Cash\",\r\n      mobile: \"\",\r\n    });\r\n  };\r\n  const buttons = (\r\n    <>\r\n      {\" \"}\r\n      <Button\r\n        size=\"medium\"\r\n        variant=\"outlined\"\r\n        onClick={resetHandler}\r\n        className={classes.receiptBtn}\r\n      >\r\n        Reset\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.cartBtn}\r\n        endIcon={<SaveIcon />}\r\n        size=\"medium\"\r\n        onClick={!submitLoading ? onSubmit : () => {}}\r\n        disabled={!userData.receiptNo || submitLoading}\r\n\r\n        // disableElevation\r\n      >\r\n        {submitLoading ? \"Submitting...\" : \"Submit\"}\r\n      </Button>{\" \"}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.header}>\r\n        <Container maxWidth=\"xl\" className={classes.headerCtr}>\r\n          <Paper className={classes.headerPaper}>\r\n            <Container maxWidth=\"lg\">\r\n              <Typography\r\n                variant=\"h4\"\r\n                align=\"center\"\r\n                color=\"tertiary\"\r\n                className={classes.homeTitle}\r\n                gutterBottom\r\n              >\r\n                ।। श्री ढुंढिराज टेंबे गणेश मंडळ ।।\r\n              </Typography>\r\n\r\n              <Typography\r\n                variant=\"body1\"\r\n                color=\"primary\"\r\n                align=\"center\"\r\n                gutterBottom\r\n                className={classes.homeSubTitle}\r\n              >\r\n                एकदंतं चतुर्हस्तं पाशमंकुशधारिणम। रदं च वरदं हस्तैर्विभ्राणं\r\n                मूषकध्वजम। रक्तं लंबोदरं शूर्पकर्णकं रक्तवाससम।\r\n                रक्तगंधाऽनुलिप्तांगं रक्तपुष्पै: सुपुजितम।। <br />\r\n                भक्तानुकंपिनं देवं जगत्कारणमच्युतम । आविर्भूतं च सृष्टयादौ\r\n                प्रकृते पुरुषात्परम । एवं ध्यायति यो नित्यं स योगी योगिनां वर:।।\r\n              </Typography>\r\n            </Container>\r\n          </Paper>\r\n        </Container>\r\n        <Container maxWidth=\"xl\" className={classes.headerCtr}>\r\n          <Grid container spacing={3}>\r\n            {/* <Grid item xs={12}>\r\n              <ProductCard className={classes.fullSizeCard}>\r\n                ahsdoahf\r\n              </ProductCard>\r\n            </Grid> */}\r\n            <Grid item xl={8} lg={8} md={12} sm={12} xs={12}>\r\n              {dataLoading && <LinearProgress />}\r\n              <ProductCard\r\n                className={classes.card}\r\n                title=\"Donate\"\r\n                subtitle=\"Please fill all the mandatory fields\"\r\n                action={buttons}\r\n              >\r\n                {\" \"}\r\n                <DonationForm\r\n                  error={[err, setErr]}\r\n                  data={[userData, setUserData]}\r\n                />\r\n              </ProductCard>\r\n            </Grid>\r\n            <Grid item xl={4} lg={4} md={12} sm={12} xs={12}>\r\n              {dataLoading && <LinearProgress />}\r\n              <ProductCard\r\n                className={classes.card}\r\n                title=\"Recent payments\"\r\n                subtitle=\"Click to download receipts\"\r\n              >\r\n                <RecentList />\r\n              </ProductCard>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}